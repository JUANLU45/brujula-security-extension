# üìã PRD: Br√∫jula Security - Extensi√≥n Anti-Phishing Cripto

**Product Requirements Document v1.0**

**Fecha**: Octubre 2025  
**Autor**: Equipo Br√∫jula Cripto  
**Estado**: En Desarrollo

---

## üìë Tabla de Contenidos

1. [Resumen Ejecutivo](#1-resumen-ejecutivo)
2. [An√°lisis de Mercado](#2-an√°lisis-de-mercado)
3. [Propuesta de Valor](#3-propuesta-de-valor)
4. [User Personas](#4-user-personas)
5. [Caracter√≠sticas T√©cnicas](#5-caracter√≠sticas-t√©cnicas)
6. [Casos de Uso](#6-casos-de-uso)
7. [Requisitos No Funcionales](#7-requisitos-no-funcionales)
8. [Roadmap](#8-roadmap)
9. [M√©tricas de √âxito](#9-m√©tricas-de-√©xito)

---

## 1. Resumen Ejecutivo

### 1.1 Problema

**1 de cada 3 usuarios de criptomonedas** ha perdido fondos por phishing. Los sitios maliciosos evolucionan m√°s r√°pido que las listas negras de extensiones existentes.

**Escenario t√≠pico de p√©rdida:**
```
Usuario busca: "comprar bitcoin barato"
‚Üí Clica resultado patrocinado: "crypto-exchange-pro.com"
‚Üí Sitio parece leg√≠timo (dise√±o profesional, SSL v√°lido)
‚Üí "Connect Wallet to get 50% bonus"
‚Üí Usuario conecta MetaMask
‚Üí Firma transacci√≥n maliciosa
‚Üí Fondos robados en <30 segundos
```

### 1.2 Soluci√≥n

**Br√∫jula Security** detecta sitios cripto sospechosos **ANTES** de que el usuario conecte su wallet mediante:

1. **An√°lisis de similitud** (typosquatting: binanse.com vs binance.com)
2. **Detecci√≥n de palabras cripto** en dominios desconocidos
3. **Identificaci√≥n de conexiones wallet** en sitios no verificados

### 1.3 Diferenciadores Clave

| Caracter√≠stica | Br√∫jula Security | Competencia |
|---|---|---|
| **Idioma espa√±ol nativo** | ‚úÖ | ‚ùå |
| **Funciona offline** | ‚úÖ | ‚ö†Ô∏è Parcial |
| **Detecci√≥n proactiva** | ‚úÖ | ‚ö†Ô∏è Solo listas negras |
| **Sin registro** | ‚úÖ | ‚ö†Ô∏è Requieren cuenta |
| **Privacidad total** | ‚úÖ | ‚ùå Env√≠an datos |

---

## 2. An√°lisis de Mercado

### 2.1 Tama√±o del Mercado

- **Usuarios cripto hispanohablantes**: ~50M (2025)
- **P√©rdidas por phishing**: $4.6B USD globales (2024)
- **Crecimiento anual**: +23% usuarios LATAM

### 2.2 Competencia Directa

#### **A) Scam Sniffer** üîç
- **Usuarios**: 100,000+
- **Fortalezas**:
  - Base de datos de scams conocidos
  - Detecci√≥n de firmas maliciosas
  - Integraci√≥n con OpenSea
- **Debilidades**:
  - Solo ingl√©s
  - Requiere API backend
  - Interfaz compleja
- **Precio**: Gratis

#### **B) Fire (by Chainpatrol)** üî•
- **Usuarios**: 500,000+
- **Fortalezas**:
  - Machine Learning avanzado
  - Cobertura de m√∫ltiples blockchains
- **Debilidades**:
  - Requiere cuenta
  - Modelo freemium (l√≠mites en free tier)
  - Comparte datos con terceros
- **Precio**: Gratis / $4.99/mes PRO

#### **C) Pocket Universe** üåå
- **Usuarios**: 50,000+
- **Fortalezas**:
  - Simulaci√≥n de transacciones
  - Detecci√≥n de contratos maliciosos
- **Debilidades**:
  - Solo previene despu√©s de conectar wallet
  - Limitado a Ethereum/EVM
- **Precio**: Gratis

### 2.3 Competencia Indirecta

- **MetaMask** (wallet con detecci√≥n b√°sica)
- **Netcraft Extension** (anti-phishing general)
- **Google Safe Browsing** (lista negra gen√©rica)

### 2.4 Ventaja Competitiva

**Posicionamiento √∫nico:**
> "La primera extensi√≥n de seguridad cripto en espa√±ol, 100% offline y privada"

**Barreras de entrada para competidores:**
1. Marca establecida (Br√∫jula Cripto = confianza)
2. Comunidad hispanohablante leal
3. Algoritmo propietario de detecci√≥n proactiva

---

## 3. Propuesta de Valor

### 3.1 Elevator Pitch (30 segundos)

> "¬øSabes que 1 de cada 3 usuarios de cripto ha perdido dinero por phishing? **Br√∫jula Security** te protege detectando sitios falsos ANTES de que conectes tu wallet. Gratis, en espa√±ol, y sin recopilar tus datos."

### 3.2 Beneficios Principales

#### Para el Usuario Novato
- ‚úÖ **Tranquilidad**: "No tengo que preocuparme si este sitio es falso"
- ‚úÖ **Sin conocimientos t√©cnicos**: Se instala y funciona autom√°ticamente
- ‚úÖ **Educaci√≥n**: Aprende a identificar sitios peligrosos

#### Para el Trader Activo
- ‚ö° **Velocidad**: Alertas instant√°neas (<100ms)
- üõ°Ô∏è **Protecci√≥n multicapa**: Complementa otras medidas de seguridad
- üìä **Sin fricci√≥n**: No interrumpe el flujo de trabajo

#### Para el Esc√©ptico de LATAM
- üåê **Funciona offline**: Ideal para internet intermitente
- üá™üá∏ **En su idioma**: Espa√±ol nativo, no traducciones gen√©ricas
- üîí **Privacidad**: No env√≠a datos a servidores externos

### 3.3 Casos de Uso Reales

#### **Caso 1: Typosquatting**
```
Usuario escribe: binanse.com (error de tipeo)
‚Üí Extensi√≥n detecta: 92% similar a binance.com
‚Üí Alerta ROJA: "‚ö†Ô∏è POSIBLE PHISHING
   Este sitio es muy parecido a binance.com
   ¬øQuer√≠as entrar en el sitio oficial?"
‚Üí Usuario cierra la pesta√±a
‚Üí Fondos salvados ‚úÖ
```

#### **Caso 2: Sitio Desconocido con Conexi√≥n Wallet**
```
Usuario entra en: free-ethereum-airdrop.com
‚Üí Extensi√≥n detecta:
   - Palabras cripto: "ethereum", "airdrop"
   - NO est√° en sitios verificados
   - Bot√≥n "Connect Wallet" presente
‚Üí Alerta ROJA: "‚ö†Ô∏è SITIO NO VERIFICADO
   Nunca conectes tu wallet a sitios desconocidos"
‚Üí Usuario no conecta wallet
‚Üí Fondos salvados ‚úÖ
```

#### **Caso 3: Sitio Leg√≠timo**
```
Usuario entra en: binance.com
‚Üí Extensi√≥n detecta: Sitio en lista verificada
‚Üí Badge verde discreto: "‚úÖ Sitio verificado"
‚Üí Usuario opera con confianza
```

---

## 4. User Personas

### 4.1 Persona Primaria: "El Novato Vulnerable"

**Nombre**: Juan  
**Edad**: 28 a√±os  
**Ubicaci√≥n**: Ciudad de M√©xico  
**Ocupaci√≥n**: Dise√±ador gr√°fico freelance

**Perfil Cripto**:
- Compr√≥ $100 USD en Bitcoin hace 3 meses
- Usa solo Binance y Trust Wallet
- Ve videos de YouTube para aprender
- No entiende t√©rminos t√©cnicos

**Frustraciones**:
- "No s√© si este sitio es real o falso"
- "Vi un video de alguien que perdi√≥ todo por clicar un link"
- "Las extensiones en ingl√©s no las entiendo bien"

**Objetivos**:
- Proteger sus ahorros
- Aprender sin riesgo
- Sentirse seguro al navegar

**C√≥mo Br√∫jula Security le ayuda**:
- Alertas en espa√±ol claro
- Protecci√≥n autom√°tica (no requiere configuraci√≥n)
- Educaci√≥n contextual (explica POR QU√â es peligroso)

### 4.2 Persona Secundaria: "El Trader Activo"

**Nombre**: Mar√≠a  
**Edad**: 35 a√±os  
**Ubicaci√≥n**: Buenos Aires, Argentina  
**Ocupaci√≥n**: Trader cripto full-time

**Perfil Cripto**:
- Portfolio de $50,000 USD
- Usa 5+ exchanges (Binance, Kraken, Bybit, etc.)
- Opera DeFi (Uniswap, Aave, Curve)
- Lee whitepapers y participa en DAOs

**Frustraciones**:
- "Visito 20+ sitios cripto al d√≠a, es f√°cil equivocarse"
- "Casi conecto mi wallet a un sitio falso de Uniswap"
- "Las extensiones de seguridad tienen falsos positivos molestos"

**Objetivos**:
- Protecci√≥n sin fricci√≥n
- Alertas solo cuando es necesario
- Privacidad total (no quiere ser trackeada)

**C√≥mo Br√∫jula Security le ayuda**:
- Detecci√≥n inteligente (menos falsos positivos)
- Funciona offline (no depende de APIs lentas)
- No rastrea su actividad

### 4.3 Persona Terciaria: "El Esc√©ptico de LATAM"

**Nombre**: Carlos  
**Edad**: 42 a√±os  
**Ubicaci√≥n**: Lima, Per√∫  
**Ocupaci√≥n**: Ingeniero de sistemas

**Perfil Cripto**:
- Holdea Bitcoin desde 2017
- Usa cold wallet (Ledger)
- Internet intermitente en su zona
- Desconf√≠a de servicios que requieren registro

**Frustraciones**:
- "Las extensiones en ingl√©s est√°n mal traducidas"
- "No funciono cuando no hay internet"
- "No conf√≠o en servicios que env√≠an mis datos a USA"

**Objetivos**:
- Herramienta que funcione offline
- Privacidad absoluta
- Open source para auditar el c√≥digo

**C√≥mo Br√∫jula Security le ayuda**:
- 100% local (no env√≠a datos)
- Funciona sin internet
- C√≥digo abierto en GitHub

---

## 5. Caracter√≠sticas T√©cnicas

### 5.1 Features Core (MVP)

#### F1: Detecci√≥n de Typosquatting
**Descripci√≥n**: Detecta dominios muy similares a sitios leg√≠timos conocidos.

**L√≥gica**:
```javascript
// Algoritmo Levenshtein Distance
function detectarTyposquatting(dominioActual) {
  const sitiosLegitimos = ['binance.com', 'coinbase.com', ...];
  
  for (let sitio of sitiosLegitimos) {
    const similitud = calcularLevenshtein(dominioActual, sitio);
    
    if (similitud > 80% && dominioActual !== sitio) {
      return {
        nivel: 'ROJO',
        mensaje: `Posible phishing. ¬øQuer√≠as entrar en ${sitio}?`
      };
    }
  }
  return null;
}
```

**Criterios de aceptaci√≥n**:
- ‚úÖ Detecta similitud >80%
- ‚úÖ Alerta en <100ms
- ‚úÖ No genera falsos positivos en dominios leg√≠timos

#### F2: Detecci√≥n de Sitios Cripto Desconocidos
**Descripci√≥n**: Identifica sitios con vocabulario cripto que NO est√°n verificados.

**L√≥gica**:
```javascript
function detectarSitioDesconocido(dominio, contenidoPagina) {
  const palabrasCripto = [
    'crypto', 'bitcoin', 'ethereum', 'wallet', 
    'exchange', 'airdrop', 'defi', 'nft'
  ];
  
  const contieneVocabularioCripto = palabrasCripto.some(
    palabra => dominio.includes(palabra)
  );
  
  const estaVerificado = sitiosVerificados.includes(dominio);
  
  if (contieneVocabularioCripto && !estaVerificado) {
    return {
      nivel: 'AMARILLO',
      mensaje: 'Sitio cripto no verificado. Precauci√≥n.'
    };
  }
  return null;
}
```

**Criterios de aceptaci√≥n**:
- ‚úÖ Detecta 50+ palabras clave
- ‚úÖ No alerta en subdominios de sitios verificados
- ‚úÖ Actualizable sin reinstalar extensi√≥n

#### F3: Detecci√≥n de Conexi√≥n Wallet
**Descripci√≥n**: Alerta si un sitio desconocido intenta conectar con MetaMask/WalletConnect.

**L√≥gica**:
```javascript
function detectarConexionWallet() {
  const tieneBotonConectar = document.querySelector(
    '[text*="Connect Wallet"], [text*="Conectar"]'
  );
  
  const tieneProviderEthereum = window.ethereum !== undefined;
  
  const esSitioVerificado = sitiosVerificados.includes(
    window.location.hostname
  );
  
  if ((tieneBotonConectar || tieneProviderEthereum) && !esSitioVerificado) {
    return {
      nivel: 'ROJO',
      mensaje: '‚ö†Ô∏è PELIGRO: Sitio desconocido pide conectar wallet'
    };
  }
  return null;
}
```

**Criterios de aceptaci√≥n**:
- ‚úÖ Detecta botones en espa√±ol/ingl√©s
- ‚úÖ Detecta `window.ethereum` injection
- ‚úÖ Alerta ANTES de que se abra popup de MetaMask

#### F4: Sistema de Alertas Visuales
**Descripci√≥n**: Badge flotante con 3 niveles de alerta.

**Dise√±o**:
```
üü¢ VERDE (Verificado)
  - Posici√≥n: Esquina superior derecha
  - Tama√±o: 40x40px (discreto)
  - Texto: "‚úÖ Verificado"

üü° AMARILLO (Precauci√≥n)
  - Posici√≥n: Centro superior
  - Tama√±o: 300x80px
  - Texto: "‚ö†Ô∏è Sitio no verificado"
  - Bot√≥n: "M√°s info"

üî¥ ROJO (Peligro)
  - Posici√≥n: Pantalla completa (overlay semitransparente)
  - Tama√±o: 500x300px (modal)
  - Texto: "üö® POSIBLE PHISHING"
  - Botones: "Salir de aqu√≠" | "Ignorar (no recomendado)"
```

**Criterios de aceptaci√≥n**:
- ‚úÖ Visible sobre cualquier z-index
- ‚úÖ No bloqueable por sitios maliciosos
- ‚úÖ Responsive (mobile/desktop)

#### F5: Base de Datos Local de Sitios Verificados
**Descripci√≥n**: JSON con 100+ sitios cripto leg√≠timos.

**Estructura**:
```json
{
  "exchanges": [
    "binance.com",
    "coinbase.com",
    "kraken.com",
    "bybit.com",
    "kucoin.com"
  ],
  "wallets": [
    "metamask.io",
    "trustwallet.com",
    "ledger.com",
    "trezor.io"
  ],
  "defi": [
    "uniswap.org",
    "aave.com",
    "curve.fi",
    "compound.finance"
  ],
  "nft": [
    "opensea.io",
    "blur.io",
    "rarible.com"
  ],
  "lastUpdated": "2025-10-22"
}
```

**Criterios de aceptaci√≥n**:
- ‚úÖ 100+ sitios al lanzamiento
- ‚úÖ Actualizaci√≥n mensual v√≠a GitHub
- ‚úÖ Contribuciones de la comunidad

### 5.2 Features Futuros (Post-MVP)

#### F6: Whitelist Personalizada (v1.1)
- Usuario puede marcar sitios como seguros
- Sincronizaci√≥n opcional v√≠a Firebase

#### F7: Reporte de Sitios Maliciosos (v1.2)
- Bot√≥n para reportar nuevos scams
- Env√≠o a base de datos comunitaria

#### F8: Integraci√≥n con Br√∫jula Cripto (v1.3)
- Art√≠culos educativos contextuales
- Estad√≠sticas de protecci√≥n en dashboard

#### F9: An√°lisis de Contratos (v2.0)
- Verificaci√≥n de contratos inteligentes
- Detecci√≥n de honeypots/rugpulls

---

## 6. Casos de Uso

### CU1: Primer Uso (Onboarding)

**Actor**: Usuario novato  
**Precondici√≥n**: Extensi√≥n reci√©n instalada

**Flujo Principal**:
1. Usuario instala extensi√≥n desde Chrome Web Store
2. Extensi√≥n muestra p√°gina de bienvenida:
   ```
   üõ°Ô∏è ¬°Bienvenido a Br√∫jula Security!
   
   ‚úÖ Ya est√°s protegido contra phishing cripto
   ‚úÖ No requiere configuraci√≥n
   ‚úÖ Funciona autom√°ticamente
   
   [Ver tutorial de 2 minutos] [Empezar a navegar]
   ```
3. Usuario elige idioma (ES/EN)
4. Tutorial interactivo muestra:
   - C√≥mo se ven las alertas (verde/amarillo/rojo)
   - Ejemplo de sitio falso vs real
   - D√≥nde ver estad√≠sticas de protecci√≥n
5. Usuario empieza a navegar con protecci√≥n activa

**Postcondici√≥n**: Usuario entiende c√≥mo funciona la extensi√≥n

### CU2: Detecci√≥n de Typosquatting

**Actor**: Trader activo  
**Precondici√≥n**: Usuario intenta entrar en sitio falso

**Flujo Principal**:
1. Usuario escribe "binanse.com" (error de tipeo)
2. Navegador carga la p√°gina
3. Content script analiza dominio:
   ```javascript
   calcularLevenshtein('binanse.com', 'binance.com')
   // Resultado: 92% similar
   ```
4. Extensi√≥n inyecta alerta ROJA:
   ```
   üö® POSIBLE PHISHING DETECTADO
   
   Este sitio es muy similar a: binance.com
   
   Diferencias detectadas:
   - binans**e**.com (OFICIAL)
   - binans**a**.com (ACTUAL - FALSO)
   
   [Ir a binance.com oficial] [Cerrar esta pesta√±a]
   ```
5. Usuario clica "Ir a binance.com oficial"
6. Extensi√≥n redirige a sitio real
7. Extensi√≥n registra estad√≠stica: "Phishing bloqueado"

**Postcondici√≥n**: Usuario evita perder fondos

### CU3: Sitio Leg√≠timo (Flujo Exitoso)

**Actor**: Usuario cualquiera  
**Precondici√≥n**: Usuario entra en sitio verificado

**Flujo Principal**:
1. Usuario entra en "coinbase.com"
2. Content script verifica:
   ```javascript
   sitiosVerificados.exchanges.includes('coinbase.com')
   // true
   ```
3. Extensi√≥n inyecta badge verde discreto (esquina)
4. Usuario opera normalmente
5. No hay interrupciones

**Postcondici√≥n**: Usuario tiene confianza en el sitio

---

## 7. Requisitos No Funcionales

### 7.1 Rendimiento

- **Tiempo de an√°lisis**: <100ms por p√°gina
- **Uso de memoria**: <50MB
- **Impacto en carga de p√°gina**: <2%

### 7.2 Compatibilidad

- **Navegadores**: Chrome 88+, Edge 88+, Brave 1.20+
- **Sistemas operativos**: Windows 10+, macOS 10.15+, Linux (Ubuntu 20.04+)
- **Manifest Version**: V3 (√∫ltima est√°ndar)

### 7.3 Seguridad

- **Permisos m√≠nimos**: Solo `activeTab`, `storage`
- **Sin conexiones externas**: 100% offline
- **C√≥digo abierto**: GitHub p√∫blico para auditor√≠a
- **Sin telemetr√≠a**: Cero recopilaci√≥n de datos

### 7.4 Accesibilidad

- **WCAG 2.1 AA**: Cumplimiento total
- **Screen readers**: Compatibilidad con NVDA/JAWS
- **Contraste**: AAA en alertas rojas (7:1)
- **Teclado**: Navegaci√≥n sin mouse

### 7.5 Internacionalizaci√≥n

- **Idiomas lanzamiento**: Espa√±ol (ES), Ingl√©s (EN)
- **Idiomas futuros**: Portugu√©s (PT-BR), Franc√©s (FR)
- **Formato de fechas**: Localizado por regi√≥n
- **Monedas**: USD, EUR, MXN, ARS, COP

---

## 8. Roadmap

### Fase 1: MVP (Mes 1)
- ‚úÖ Estructura de archivos
- ‚úÖ Algoritmo Levenshtein
- ‚úÖ Base de datos 100 sitios
- ‚úÖ Sistema de alertas b√°sico
- ‚úÖ i18n ES/EN
- ‚úÖ Documentaci√≥n completa

### Fase 2: Beta Testing (Mes 2)
- üîÑ Pruebas con 50 usuarios
- üîÑ Correcci√≥n de bugs
- üîÑ Optimizaci√≥n de rendimiento
- üîÑ Dise√±o final de alertas

### Fase 3: Lanzamiento P√∫blico (Mes 3)
- üìÖ Publicaci√≥n en Chrome Web Store
- üìÖ Art√≠culo en blog Br√∫jula Cripto
- üìÖ Campa√±a en redes sociales
- üìÖ Monitoreo de m√©tricas

### Fase 4: Iteraci√≥n v1.1 (Mes 4-6)
- üìÖ Whitelist personalizada
- üìÖ Reporte de sitios maliciosos
- üìÖ 500+ sitios verificados
- üìÖ Firefox/Edge versions

---

## 9. M√©tricas de √âxito

### 9.1 M√©tricas de Adopci√≥n

#### Corto Plazo (3 meses)
- **Instalaciones**: 1,000+
- **Rating Chrome Store**: 4.5+ estrellas
- **Usuarios activos diarios (DAU)**: 500+
- **Retenci√≥n 7 d√≠as**: 60%+

#### Mediano Plazo (6 meses)
- **Instalaciones**: 5,000+
- **Rese√±as positivas**: 50+
- **DAU**: 2,500+
- **Menciones en medios**: 3+ art√≠culos

#### Largo Plazo (12 meses)
- **Instalaciones**: 20,000+
- **DAU**: 10,000+
- **Partnerships**: 2+ proyectos cripto
- **Expansi√≥n**: Firefox, Edge, Safari

### 9.2 M√©tricas de Impacto

- **Phishing bloqueados**: Objetivo 100+ al mes
- **Fondos salvados**: Estimaci√≥n basada en reportes de usuarios
- **Falsos positivos**: <5% de alertas
- **Tiempo promedio de respuesta**: <50ms

### 9.3 M√©tricas de Negocio

- **Tr√°fico a Br√∫jula Cripto**: +15% desde extensi√≥n
- **Suscriptores newsletter**: +500 desde CTA en extensi√≥n
- **Brand awareness**: 20% usuarios asocian "seguridad cripto" con Br√∫jula

---

## üìû Contacto

**Equipo de Producto**: producto@brujulacrypto.com  
**Reporte de Bugs**: security-extension@brujulacrypto.com  
**GitHub**: https://github.com/JUANLU45/Brujula-Cripto

---

**√öltima actualizaci√≥n**: Octubre 22, 2025  
**Versi√≥n documento**: 1.0  
**Estado**: ‚úÖ Aprobado para desarrollo
